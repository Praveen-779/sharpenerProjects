<!DOCTYPE html>
<html lang="en">
<head>
    <title>registration form</title>
</head>
<body>
    <div>
        <form action="#" onsubmit="saveToLocalStorage(event)">
            <fieldset>
                <center>
                    <h2 style="color:rgb(245, 99, 9)"><strong>Book a call</strong></h2>
                    <p>book a call slot and our representative will call you within 1hr of selected time.</p>
                </center>
                <hr>
                <label for="name">Name:</label><br>
                <input type="text" id="name" style="width:100%" placeholder="ex:praveen" required name="username" >
                <br><br>
                <label for="email">Email:</label><br>
                <input type="email" id="email" style="width:100%" placeholder="ex:abc@gmail.com" name="email" required checked >
                <br><br>
                <label for="phone">Phone:</label>
                <input type="tel" style="width:100%" id="phone" placeholder="ex:9999999999" name="mobile" required checked minlength="10" >
                <br><br>
                <label for="time">Time for call:</label><br>
                <input type="date" id="date" style="width:49%" name="date">
                <input type="time" id="time" style="width:49%" name="time">
                <br><br>
                <input type="submit" name="submit" value="SUBMIT" style="width:100%; background-color:rgb(231, 112, 14); color:white"> 
            </fieldset>
        </form>
    </div>
    <div id="userDetails">
        
    </div>

    <script>
        function saveToLocalStorage(event) {
            event.preventDefault(); // Prevent form submission

            const name = event.target.username.value;
            const email = event.target.email.value;
            const phone = event.target.phone.value;
            const date = event.target.date.value;
            const time = event.target.time.value;
            
            var userDetails = {
                name: name,
                email: email,
                phone: phone,
                date: date,
                time: time
            };
            localStorage.setItem(email, JSON.stringify(userDetails));
           
            // Display the user details on the screen
            displayUserDetails(name, email, phone, date, time);
        }

        function displayUserDetails(name, email, phone, date, time) {
    const userDetailsDiv = document.getElementById("userDetails");

    const userDetailsParagraph = document.createElement("p");
    const deleteButton = document.createElement("button");
    const editButton = document.createElement("button");

    userDetailsParagraph.innerHTML = "Name: " + name + "<br>Email: " + email + "<br>Phone: " + phone + "<br>Date: " + date + "<br>Time: " + time;
    deleteButton.textContent = "Delete";
    editButton.textContent = "Edit";

    deleteButton.addEventListener("click", function() {
        // Remove data from local storage
        localStorage.removeItem(email);
        
        // Remove the user details from the UI
        userDetailsDiv.removeChild(userDetailsParagraph);
        userDetailsDiv.removeChild(deleteButton);
        userDetailsDiv.removeChild(editButton);
    });

    editButton.addEventListener("click", function() {
        // Retrieve the user details from local storage
        const userDetails = JSON.parse(localStorage.getItem(email));

        // Populate the form with the user details for editing
        document.getElementById("name").value = userDetails.name;
        document.getElementById("email").value = userDetails.email;
        document.getElementById("phone").value = userDetails.phone;
        document.getElementById("date").value = userDetails.date;
        document.getElementById("time").value = userDetails.time;

        // Remove the user details from local storage
        localStorage.removeItem(email);
        
        // Remove the user details from the UI
        userDetailsDiv.removeChild(userDetailsParagraph);
        userDetailsDiv.removeChild(deleteButton);
        userDetailsDiv.removeChild(editButton);
    });

    userDetailsDiv.appendChild(userDetailsParagraph);
    userDetailsDiv.appendChild(deleteButton);
    userDetailsDiv.appendChild(editButton);
}

    </script>
</body>
</html
